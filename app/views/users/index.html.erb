<% provide(:title, 'All users') %>
<h1>All users</h1>

<%= will_paginate  %>  <%# ページネーション  %>
<ul class="users">

<script>/*
  <% @users.each do |user| %>
    <li>
      <%= gravatar_for user, size: 50 %>
      <%= link_to user.name, user %>
    </li>
  <% end %>
*/</script>

  <%= render @users %>

  <%# ーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーー
      10.52: indexページの完全なリファクタリング
        Railsは@users をUserオブジェクトのリストであると推測します。
        さらに、ユーザーのコレクションを与えて呼び出すと、
        Railsは自動的にユーザーのコレクションを列挙し、
        それぞれのユーザーを_user.html.erbパーシャルで出力します。
      ーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーー%>
</ul>

<%= will_paginate  %>

 <%# User.paginate(page: params[:page])の中身を確認 %>
<%= if Rails.env.development?
      @users.each do |t|  p (t.attributes.to_s + "\n") end
    end
%>


